<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="logo.png">
  <title>Walimatul Urus ‚Äì Naim & Edreena</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --blue-deep: #53617f;
      --grey-soft: #f1f2f6;
      --accent: #d6bfa3;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: system-ui, sans-serif;
      background: url("wallpaper.png") center/cover fixed no-repeat;
      color: #4b4f57;
      overflow-x: hidden;
      position: relative;
    }

    /* FLOWERS */
    #flower-container {
      position: fixed;
      inset: 0;
      z-index: 1;
      pointer-events: none;
    }
    .flower {
      position: fixed;
      top: -10vh;
      font-size: 2rem;
      opacity: 0.85;
      animation: fall linear infinite;
    }
    @keyframes fall {
      from { transform: translateY(-10vh) rotate(0deg); }
      to { transform: translateY(110vh) rotate(360deg); }
    }

    /* HERO */
    section {
      max-width: 900px;
      margin: auto;
      padding: 4rem 1.4rem;
      position: relative;
      z-index: 2;
    }
    .hero {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .hero-card {
      background: rgba(255,255,255,0.92);
      border-radius: 28px;
      padding: 2.5rem 1.4rem;
      box-shadow: 0 18px 40px rgba(0,0,0,0.18);
      border: 1px solid rgba(203,214,234,0.9);
    }
    .hero-names {
      font-size: 2.6rem;
      font-family: "Playfair Display", serif;
      margin-top: 1rem;
    }

    /* CARD */
    .card {
      background: rgba(255,255,255,0.9);
      padding: 1.8rem;
      border-radius: 22px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.1);
      border: 1px solid rgba(203,214,234,0.85);
      margin-bottom: 2rem;
    }

    .section-title {
      text-align: center;
      margin-bottom: 1.4rem;
    }

    .details-grid {
      display: grid;
      gap: 1rem;
    }
    @media(min-width:700px){
      .details-grid { grid-template-columns: repeat(3,1fr); }
    }

    .detail-box {
      background: rgba(244,246,251,0.9);
      padding: 1rem;
      border-radius: 18px;
      border: 1px solid rgba(203,214,234,0.9);
    }

    /* COUNTDOWN */
    .countdown {
      display: flex;
      justify-content: center;
      gap: 0.8rem;
      margin-top: 1.3rem;
      flex-wrap: wrap;
    }
    .count-box {
      width: 70px;
      background: var(--grey-soft);
      padding: 0.7rem 0.4rem;
      border-radius: 14px;
      text-align: center;
      border: 1px solid rgba(203,214,234,0.85);
    }

    /* WISHES SLIDESHOW */
    .wish-gallery {
      overflow: hidden;
      border-radius: 18px;
      background: rgba(255,255,255,0.7);
      padding: 12px;
      margin-top: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    }
    .gallery-track {
      display: flex;
      transition: transform 0.6s ease-in-out;
    }
    .gallery-item {
      min-width: 100%;
      padding: 20px;
    }
    .gallery-card {
      background: rgba(255,255,255,0.95);
      padding: 18px;
      border-radius: 14px;
      border-left: 5px solid #7f8fb8;
    }

    /* CONTACT */
    .contact-list {
      display: grid;
      gap: 1rem;
    }
    @media(min-width:640px){
      .contact-list { grid-template-columns: repeat(2,1fr); }
    }

    .contact-item {
      background: rgba(241,242,246,0.95);
      padding: 1rem;
      border-radius: 16px;
      border: 1px solid rgba(203,214,234,0.9);
    }

    /* FOOTER */
    .footer {
      text-align: center;
      padding: 1.5rem;
      background: rgba(60,70,100,0.92);
      color: white;
      margin-top: 2rem;
    }

    /* NAV */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0; right: 0;
      background: rgba(255,255,255,0.92);
      border-top: 1px solid rgba(203,214,234,0.9);
      display: flex;
      justify-content: center;
      gap: 0.3rem;
      padding: 0.4rem 0;
      z-index: 50;
      backdrop-filter: blur(10px);
    }
    .bottom-nav button {
      border: none;
      background: transparent;
      padding: 0.4rem 1rem;
      border-radius: 999px;
      text-transform: uppercase;
      font-size: 0.75rem;
      color: #6c7480;
    }
    .bottom-nav button.active {
      background: var(--blue-deep);
      color: white;
      box-shadow: 0 6px 15px rgba(83,97,127,0.4);
    }

    /* MUSIC BUTTON */
    .music-btn {
      position: fixed;
      bottom: 70px;
      right: 16px;
      background: var(--blue-deep);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 999px;
      cursor: pointer;
      z-index: 60;
    }
    .music-btn.active {
      background: var(--accent);
      color: black;
    }
  </style>
</head>

<body style="overflow:hidden;">

<!-- INTRO OVERLAY -->
<iframe id="introFrame" src="intro.html"
style="position:fixed; inset:0; width:100%; height:100%; border:none; z-index:9999;">
</iframe>

<!-- FLOWERS -->
<div id="flower-container"></div>

<!-- MUSIC -->
<audio id="bgMusic" src="weddingsong.mp3" loop></audio>
<button id="musicBtn" class="music-btn">üîá Music Off</button>

<!-- HERO -->
<section id="home" class="hero">
  <div class="hero-card">
    <div class="hero-subtitle">UNDANGAN MAJLIS WALIMATUL URUS</div>
    <h1 class="hero-names">Naim & Edreena</h1>
    <div class="hero-date">20 DISEMBER 2025 ¬∑ SABTU</div>

    <div class="bismillah">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸíŸÖŸê</div>

    <p>
      Assalamualaikum w.b.t & salam sejahtera. <br><br>
      <b>Mokhzamany Bin Osman</b> & <b>Mazle Yanita Binti Mat Taib</b><br><br>
      Dengan penuh rasa syukur ke hadrat Ilahi, kami menjemput
      Dato‚Äô/Datin/Tuan/Puan/Encik/Cik untuk hadir memeriahkan majlis
      walimatul urus putera & puteri kami.<br><br>
      <b>Nur Edreena Binti Mokhzamany</b><br>&<br><b>Nazrul Naim Bin Ghazali</b>
    </p>

  </div>
</section>

<!-- DETAILS -->
<section id="details">
  <div class="card">
    <div class="section-title">
      <h2>Tarikh, Masa & Lokasi</h2>
    </div>

    <div class="details-grid">
      <div class="detail-box">
        <div>Tarikh</div>
        <h3>Sabtu</h3>
        <p>20 Disember 2025</p>
      </div>

      <div class="detail-box">
        <div>Atur Cara</div>
        <h3>Jamuan & Ketibaan</h3>
        <p>Jamuan: 11.30 pagi<br>Ketibaan pengantin: 12.45 tengah hari</p>
      </div>

      <div class="detail-box">
        <div>Lokasi</div>
        <h3>De Melatee Hall</h3>
        <p>Sugeh Village Country House,<br>47000 Sungai Buloh</p>
      </div>
    </div>

    <div class="countdown">
      <div class="count-box"><strong id="cd-days">0</strong><span>Hari</span></div>
      <div class="count-box"><strong id="cd-hours">0</strong><span>Jam</span></div>
      <div class="count-box"><strong id="cd-mins">0</strong><span>Minit</span></div>
      <div class="count-box"><strong id="cd-secs">0</strong><span>Saat</span></div>
    </div>
  </div>

  <div class="card">
    <h2 class="section-title">Panduan Arah</h2>
    <div style="text-align:center;">
      <a href="https://maps.app.goo.gl/a5bqoJThAgtvH4i57"
         target="_blank"
         style="padding:0.6rem 1.4rem; background:var(--blue-deep); color:white;
                border-radius:999px;">
        Buka Google Maps
      </a>
    </div>
  </div>
</section>

<!-- WISHES -->
<section id="wish">
  <div class="card">
    <h2 class="section-title">Titipan Ucapan</h2>

    <div class="wish-gallery">
      <div id="galleryTrack" class="gallery-track"></div>
    </div>

    <form id="wishForm">
      <input id="wishName" placeholder="Nama" required>
      <textarea id="wishMessage" placeholder="Ucapan" required></textarea>
      <button type="submit">Hantar Ucapan</button>
    </form>
  </div>
</section>

<!-- CONTACT -->
<section id="contact">
  <div class="card">
    <h2 class="section-title">Hubungi</h2>

    <div class="contact-list">
      <div class="contact-item">
        <strong>En. Mokhzamany</strong>
        <small>Bapa Pengantin</small>
        <small>+60 11-10806575</small>
        <a href="https://wa.me/601110806575" target="_blank">WhatsApp</a>
      </div>
      <div class="contact-item">
        <strong>Pn. Mazle</strong>
        <small>Ibu Pengantin</small>
        <small>+60 11-55002108</small>
        <a href="https://wa.me/601155002108" target="_blank">WhatsApp</a>
      </div>
    </div>
  </div>
</section>

<div class="footer">
  Terima kasih atas kehadiran & doa restu anda üíô
</div>

<!-- NAV -->
<div class="bottom-nav">
  <button data-target="#home" class="active">Home</button>
  <button data-target="#details">Details</button>
  <button data-target="#wish">Wish</button>
  <button data-target="#contact">Contact</button>
</div>

<script>
/* INTRO MESSAGE */
window.addEventListener("message", (event)=>{
  if(event.data==="OPEN_INVITATION"){
    const intro=document.getElementById("introFrame");
    intro.style.transition="0.8s";
    intro.style.opacity="0";
    setTimeout(()=>intro.remove(),800);
    document.body.style.overflow="auto";
    const music=document.getElementById("bgMusic");
    music.muted=false;
    music.play().catch(()=>{});
    document.getElementById("musicBtn").textContent="üîä Music On";
  }
});

/* MUSIC */
const bgMusic=document.getElementById("bgMusic");
const musicBtn=document.getElementById("musicBtn");
bgMusic.muted=true;
musicBtn.onclick=()=>{
  bgMusic.muted=!bgMusic.muted;
  musicBtn.textContent = bgMusic.muted ? "üîá Music Off" : "üîä Music On";
  if(!bgMusic.muted) bgMusic.play();
};

/* FLOATING FLOWERS */
setInterval(()=>{
  const c=document.getElementById("flower-container");
  const f=document.createElement("div");
  f.className="flower";
  f.textContent=["üå∏","üå∫","üåº","üå∑"][Math.floor(Math.random()*4)];
  f.style.left=Math.random()*100+"vw";
  f.style.animationDuration=6+Math.random()*6+"s";
  c.appendChild(f);
  setTimeout(()=>f.remove(),12000);
},800);

/* COUNTDOWN */
const targetDate=new Date(2025,11,20,11,0,0);
function updateCD(){
  const now=new Date();
  const diff=targetDate-now;
  if(diff<0)return;
  const s=Math.floor(diff/1000);
  cd-days.textContent=Math.floor(s/86400);
  cd-hours.textContent=Math.floor(s%86400/3600);
  cd-mins.textContent=Math.floor(s%3600/60);
  cd-secs.textContent=s%60;
}
setInterval(updateCD,1000);
updateCD();

/* NAV ACTIVE */
const navBtns=document.querySelectorAll(".bottom-nav button");
window.addEventListener("scroll",()=>{
  const y=scrollY+120;
  const ids=["#home","#details","#wish","#contact"];
  let cur="#home";
  ids.forEach(id=>{
    const sec=document.querySelector(id);
    if(sec && sec.offsetTop<=y) cur=id;
  });
  navBtns.forEach(b=>{
    b.classList.toggle("active",b.dataset.target===cur);
  });
});
navBtns.forEach(b=>{
  b.onclick=()=>{
    document.querySelector(b.dataset.target).scrollIntoView({behavior:"smooth"});
  };
});

/* GOOGLE APPS SCRIPT */
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbwRep80DpJmbi2jmwyu1RgEeenR2B-6mReb5tgPn36wRh5r2bo-1XDQrF4Jf3saUgTOLA/exec";

async function loadWishes(){
  const res=await fetch(SCRIPT_URL);
  const data=await res.json();
  const track=document.getElementById("galleryTrack");
  track.innerHTML="";
  if(!data.wishes.length){
    track.innerHTML=`<div class="gallery-item"><div class="gallery-card">
    <strong>Tiada Ucapan</strong><p>Jadi yang pertama üíô</p></div></div>`;
    return;
  }
  data.wishes.forEach(w=>{
    const t=w.timestamp?new Date(w.timestamp).toLocaleString("ms-MY"):"";
    track.innerHTML+=`
      <div class="gallery-item">
        <div class="gallery-card">
          <strong>${w.name}</strong>
          <p>${w.message}</p>
          <small>${t}</small>
        </div>
      </div>`;
  });
}
loadWishes();

/* SLIDESHOW */
let slide=0;
setInterval(()=>{
  const slides=document.querySelectorAll(".gallery-item");
  if(!slides.length)return;
  slide=(slide+1)%slides.length;
  document.getElementById("galleryTrack").style.transform=
    `translateX(-${slide*100}%)`;
},3500);

/* SUBMIT WISH */
document.getElementById("wishForm").onsubmit=async e=>{
  e.preventDefault();
  await fetch(SCRIPT_URL,{
    method:"POST",
    mode:"no-cors",
    body:JSON.stringify({
      mode:"wish",
      name: wishName.value,
      message: wishMessage.value
    })
  });
  wishForm.reset();
  setTimeout(loadWishes,1000);
};
</script>

</body>
</html>
